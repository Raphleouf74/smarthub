<!-- QuickNotes - Simple Note Taking App -->
<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickNotes</title>
    <link rel="stylesheet" href="quicknotes.css">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link rel="icon" href="../medias/logo.png" type="png">

</head>

<body>

    <header>
        <h1>QuickNotes</h1>
        <button class="HiddenNotesBtn" onclick="askToUnlockHiddenNotes();"> Notes Cach√©es</button>
        <a href="../"><button class="Back"><p>< Retour vers SmartHub</p></button></a>
        
    </header>
    <div id="Welcome">
      <canvas id="welcomeCanvas"></canvas>
      <h1 id="welcometext">Outil QuickNotes</h1>
      <p id="welcomep">
        Cr√©ez, modifiez et g√©rez vos notes d'un simple clic, dans un environnement innovant et intuitif, tout en s√©curit√©.
      </p>
      <button id="welcomebtn" onclick="hideWelcome()" style="margin-top: 5px">
        <span class="scrolltext">Acc√©der √† l'outil</span>
      </button>
      <button id="toggleLinesBtn">Masquer les lignes</button>
    </div>
    <div id="content">
        <div id="Notes">
            <h1> Vos Notes ‚úèÔ∏è</h1>
            <div id="AddNoteDiv">
                <button id="AddNote">Ajouter une note</button>
            </div>

            <div id="NotesContainer"></div>
            <p id="EmptyMessage" class="text-gray-500 text-center mt-4">Aucune note pour le moment. Cr√©ez une note et
                laissez place √† votre imagination !
                <br>
                Si vous avez des notes cach√©es, faites d√©filer la page vers le bas puis vers le haut 2 fois ou appuyez
                sur "Ctrl + Maj + H" ou "Cmd + Maj + H".</span>
            </p>

        </div>
    </div>

    <div id="NoteModal" class="hidden">
        <div id="modal-content">
            <h2>Nouvelle note</h2>
            <input type="text" id="NoteTitleInput" placeholder="Titre de la note">
            <div id="toolbar">
                <select class="ql-font"></select>
                <select class="ql-size"></select>
                <button class="ql-bold"></button>
                <button class="ql-italic"></button>
                <button class="ql-underline"></button>
                <button class="ql-strike"></button>
                <select class="ql-color"></select>
                <select class="ql-background"></select>
            </div>
            <!-- Apr√®s -->
            <div id="NoteContentInput"></div>



            <div class="modal-actions">
                <button id="CancelNoteButton">Annuler</button>
                <button id="CreateNoteButton">Cr√©er</button>
                
            </div>
        </div>
    </div>
    <div id="UnlockModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-actions">
                <button id="CancelUnlock">X</button>
            </div>
            <div class="lock-icon" id="LockIcon">üîí</div>
            <h2>Code secret</h2>
            <div class="code-input">
                <input type="text" maxlength="1" class="code-digit" />
                <input type="text" maxlength="1" class="code-digit" />
                <input type="text" maxlength="1" class="code-digit" />
                <input type="text" maxlength="1" class="code-digit" />
            </div>
            <button id="resetPasswordBtn" style="margin-top: 20px;" title="Ca peut arriver, ne vous inqu√©tez pas :)">Mot
                de passe oubli√© ?</button>

        </div>
    </div>

    

    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>


    <script src="quicknotes.js"></script>

</body>
<script type="module">
    import { checkUser, logout } from '../script.js';

    window.addEventListener('DOMContentLoaded', checkUser);
    window.logout = logout;
</script>
<script>
      const welcomebtn = document.getElementById("welcomebtn");
      const welcometext = document.getElementById("welcometext");
      const welcomep = document.getElementById('welcomep')
      const Welcome = document.getElementById("Welcome");
      Welcome.style.transform = "translateY(0)";
      Welcome.style.display = "flex";
      welcometext.style.transform = "translateY(75px)";
      welcometext.style.transition = "all 0.3s ease-in-out";
      welcometext.style.opacity = "0";
      welcomep.style.transform = "translateY(75px)";
      welcomep.style.transition = "all 0.3s ease-in-out";
      welcomep.style.opacity = "0";
      welcomebtn.style.opacity = "0";
      welcomebtn.style.transform = "translateY(50px)";
      setTimeout(() => {
        welcometext.style.opacity = "1";
        welcometext.style.transform = "translateY(50px) ";
      }, 300);
      setTimeout(() => {
        welcomep.style.opacity = "1";
        welcomep.style.transform = "translateY(0) ";
      }, 1500);
      setTimeout(() => {
        welcomebtn.style.transform = "translateY(0) ";
        welcomebtn.style.opacity = "1";
      }, 3250);

      function hideWelcome() {
        Welcome.style.transform = "translateY(-100%)";
      }
      document.addEventListener("keydown", (e) => {
        if (e.shiftKey && e.key === "L") {
          Welcome.style.transform = "translateY(0)";
          Welcome.style.display = "flex";
          welcometext.style.transform = "translateY(75px)";
          welcometext.style.transition = "all 0.3s ease-in-out";
          welcometext.style.opacity = "0";
          welcomep.style.transform = "translateY(75px)";
          welcomep.style.transition = "all 0.3s ease-in-out";
          welcomep.style.opacity = "0";
          welcomebtn.style.opacity = "0";
          welcomebtn.style.transform = "translateY(50px)";
          setTimeout(() => {
            welcometext.style.opacity = "1";
            welcometext.style.transform = "translateY(50px) ";
            }, 300);
        setTimeout(() => {
        welcomep.style.opacity = "1";
        welcomep.style.transform = "translateY(0) ";
        }, 1500);
        setTimeout(() => {
            welcomebtn.style.transform = "translateY(0) ";
            welcomebtn.style.opacity = "1";
        }, 3250);
        }
        
      });
</script>
<script>
    function showUnlockModal() {
        document.getElementById('UnlockModal').classList.remove('hidden');
        const inputs = document.querySelectorAll('.code-digit');
        inputs.forEach(input => input.value = '');
        inputs[0].focus();
    }

    function hideUnlockModal() {
        document.getElementById('UnlockModal').classList.add('hidden');
    }

    function askToUnlockHiddenNotes() {
        showUnlockModal();
    }
</script>
</html>